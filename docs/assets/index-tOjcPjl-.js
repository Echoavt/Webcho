(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))d(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&d(a)}).observe(document,{childList:!0,subtree:!0});function o(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function d(e){if(e.ep)return;e.ep=!0;const r=o(e);fetch(e.href,r)}})();const w="modulepreload",P=function(t,c){return new URL(t,c).href},C={},L=function(c,o,d){let e=Promise.resolve();if(o&&o.length>0){let a=function(l){return Promise.all(l.map(m=>Promise.resolve(m).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};const i=document.getElementsByTagName("link"),u=document.querySelector("meta[property=csp-nonce]"),g=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));e=a(o.map(l=>{if(l=P(l,d),l in C)return;C[l]=!0;const m=l.endsWith(".css"),h=m?'[rel="stylesheet"]':"";if(!!d)for(let n=i.length-1;n>=0;n--){const f=i[n];if(f.href===l&&(!m||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${h}`))return;const s=document.createElement("link");if(s.rel=m?"stylesheet":w,m||(s.as="script"),s.crossOrigin="",s.href=l,g&&s.setAttribute("nonce",g),document.head.appendChild(s),m)return new Promise((n,f)=>{s.addEventListener("load",n),s.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function r(a){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=a,window.dispatchEvent(i),!i.defaultPrevented)throw a}return e.then(a=>{for(const i of a||[])i.status==="rejected"&&r(i.reason);return c().catch(r)})},v="webcho-scores";function b(){try{const t=localStorage.getItem(v);if(!t)return[];const c=JSON.parse(t);return Array.isArray(c)?c.filter(o=>typeof o.name=="string"&&Number.isFinite(o.attempts)):[]}catch(t){return console.error("Failed to load scores",t),[]}}function $(t){try{localStorage.setItem(v,JSON.stringify(t))}catch(c){console.error("Failed to save scores",c)}}function S(t,c){const o=b();o.push({name:t,attempts:c}),o.sort((d,e)=>d.attempts-e.attempts),$(o.slice(0,20))}function O(t=10){return b().slice(0,t)}const x=Object.freeze(Object.defineProperty({__proto__:null,getTopScores:O,loadScores:b,saveScore:S},Symbol.toStringTag,{value:"Module"}));function T(){console.log("start");const t=document.createElement("div");t.id="game";const c=document.createElement("h1");c.textContent="Guess the Number",t.appendChild(c);const o=document.createElement("input");o.type="number",o.placeholder="Enter a number 1-100",t.appendChild(o);const d=document.createElement("button");d.textContent="Guess",t.appendChild(d);const e=document.createElement("p");t.appendChild(e);const r=document.createElement("div");r.id="scoreboard";const a=document.createElement("h2");a.textContent="Past Guesses";const i=document.createElement("ul");r.appendChild(a),r.appendChild(i),t.appendChild(r);const u=document.createElement("div");u.id="highscores";const g=document.createElement("h2");g.textContent="Leaderboard";const l=document.createElement("table");l.innerHTML="<thead><tr><th>Name</th><th>Attempts</th></tr></thead><tbody></tbody>",u.appendChild(g),u.appendChild(l),t.appendChild(u);function m(){const s=l.querySelector("tbody");s.innerHTML="",L(async()=>{const{getTopScores:n}=await Promise.resolve().then(()=>x);return{getTopScores:n}},void 0,import.meta.url).then(({getTopScores:n})=>{n().forEach(y=>{const E=document.createElement("tr");E.innerHTML=`<td>${y.name}</td><td>${y.attempts}</td>`,s.appendChild(E)})})}m(),document.body.appendChild(t);const h=Math.floor(Math.random()*100)+1;let p=0;d.addEventListener("click",()=>{const s=parseInt(o.value,10);if(p++,Number.isNaN(s)){e.textContent="Please enter a number.";const n=document.createElement("li");n.textContent=`#${p}: invalid input`,i.appendChild(n)}else if(s<h){e.textContent="Too low!";const n=document.createElement("li");n.textContent=`#${p}: ${s} - too low`,i.appendChild(n)}else if(s>h){e.textContent="Too high!";const n=document.createElement("li");n.textContent=`#${p}: ${s} - too high`,i.appendChild(n)}else{e.textContent=`Correct! The number was ${h}. Attempts: ${p}`,d.disabled=!0,o.disabled=!0;const n=document.createElement("li");n.textContent=`#${p}: ${s} - correct`,i.appendChild(n);const f=prompt("You won! Enter your name for the leaderboard:");f&&(S(f,p),m())}o.value="",o.focus()})}T();console.log("game");
